/**
 * A wrapper around L2 block used to cache results of expensive operations.
 */
export class L2BlockContext {
    constructor(
    /**
     * The underlying L2 block.
     */
    block) {
        this.block = block;
    }
    /**
     * Returns the tx hash of the tx in the block at the given index.
     * @param txIndex - The index of the tx in the block.
     * @returns The tx's hash.
     */
    getTxHash(txIndex) {
        return this.txHashes ? this.txHashes[txIndex] : this.block.getTx(txIndex).txHash;
    }
    /**
     * Returns the tx hashes of all txs in the block.
     * @returns The tx hashes.
     */
    getTxHashes() {
        // First ensure that all tx hashes are calculated
        if (!this.txHashes) {
            this.txHashes = this.block.getTxs().map(tx => tx.txHash);
        }
        return this.txHashes;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibDJfYmxvY2tfY29udGV4dC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9sMl9ibG9ja19jb250ZXh0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBOztHQUVHO0FBQ0gsTUFBTSxPQUFPLGNBQWM7SUFHekI7SUFDRTs7T0FFRztJQUNhLEtBQWM7UUFBZCxVQUFLLEdBQUwsS0FBSyxDQUFTO0lBQzdCLENBQUM7SUFFSjs7OztPQUlHO0lBQ0ksU0FBUyxDQUFDLE9BQWU7UUFDOUIsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUM7SUFDbkYsQ0FBQztJQUVEOzs7T0FHRztJQUNJLFdBQVc7UUFDaEIsaURBQWlEO1FBQ2pELElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ2xCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDMUQ7UUFDRCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDdkIsQ0FBQztDQUNGIn0=