/**
 * A class that allows for a value to be committed or rolled back.
 */
export class Committable {
    constructor(initialValue) {
        this.nextValue = undefined;
        this.currentValue = initialValue;
    }
    /**
     * Commits the uncommitted value.
     */
    commit() {
        if (this.nextValue === undefined) {
            return;
        }
        this.currentValue = this.nextValue;
        this.nextValue = undefined;
    }
    /**
     * Rolls back the uncommitted value.
     */
    rollback() {
        this.nextValue === undefined;
    }
    /**
     * Gets the current value.
     * @param includeUncommitted - Whether to include the uncommitted value.
     * @returns The current value if includeUncommitted is false, otherwise the uncommitted value.
     */
    get(includeUncommitted = false) {
        return includeUncommitted && this.nextValue ? this.nextValue : this.currentValue;
    }
    /**
     * Sets the next value to be committed to.
     * @param value - The new value to be set.
     */
    set(value) {
        this.nextValue = value;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tbWl0dGFibGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvY29tbWl0dGFibGUvY29tbWl0dGFibGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFDSCxNQUFNLE9BQU8sV0FBVztJQUl0QixZQUFZLFlBQWU7UUFGbkIsY0FBUyxHQUFrQixTQUFTLENBQUM7UUFHM0MsSUFBSSxDQUFDLFlBQVksR0FBRyxZQUFZLENBQUM7SUFDbkMsQ0FBQztJQUVEOztPQUVHO0lBQ0ksTUFBTTtRQUNYLElBQUksSUFBSSxDQUFDLFNBQVMsS0FBSyxTQUFTLEVBQUU7WUFDaEMsT0FBTztTQUNSO1FBQ0QsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO1FBQ25DLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO0lBQzdCLENBQUM7SUFFRDs7T0FFRztJQUNJLFFBQVE7UUFDYixJQUFJLENBQUMsU0FBUyxLQUFLLFNBQVMsQ0FBQztJQUMvQixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLEdBQUcsQ0FBQyxxQkFBOEIsS0FBSztRQUM1QyxPQUFPLGtCQUFrQixJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUM7SUFDbkYsQ0FBQztJQUVEOzs7T0FHRztJQUNJLEdBQUcsQ0FBQyxLQUFRO1FBQ2pCLElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO0lBQ3pCLENBQUM7Q0FDRiJ9